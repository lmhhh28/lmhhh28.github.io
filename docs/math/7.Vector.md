# **1.导数与微分**

---

## **1.1.偏导数**

对于二元函数$z=f(x,y)$, 规定其在固定方向上的导数为**偏导数**。

其中在$x$方向上的偏导数记作$\frac {\partial f}{\partial x}$，在$y$方向上的偏导数记作$\frac {\partial f}{\partial y}$。

-  高阶偏导数

按照求导变量顺序的不同，存在如下偏导数：

$$
\frac {\partial ^{2} f}{\partial x^{2}}, \frac {\partial ^{2} f}{\partial y^{2}}, \frac {\partial ^{2} f}{\partial x \partial y}, \frac {\partial ^{2} f}{\partial y \partial x}
$$

有如下定理：

$$
若函数z=f(x,y)在区域D上连续且\frac {\partial ^{2} f}{\partial x \partial y}与\frac {\partial ^{2} f}{\partial y \partial x}在区域D上存在且连续，则\frac {\partial ^{2} f}{\partial x \partial y}=\frac {\partial ^{2} f}{\partial y \partial x}。
$$

---

## **1.2.全微分**

考虑曲面$z=f(x,y)$在$(x_{0}, y_{0}, z_{0})$存在切平面$\pi :Ax+By+Cz+D=0$，其法方向为：$\vec {r}$。则存在$\vec {\alpha}=(1,0,\frac {\partial f}{\partial x}|_{x=x_{0}}), \vec {\beta}=(0,1,\frac {\partial f}{\partial y}|_{y=y_{0}})$，使得$\vec {\alpha} \parallel \pi, \vec {\beta} \parallel \pi$，则有：

$$
\vec {r} = \vec {\alpha} \times \vec {\beta}=(\frac {\partial f}{\partial x}|_{x=x_{0}}, \frac {\partial f}{\partial y}|_{y=y_{0}}, -1)
$$

在$(x_{0}, y_{0}, z_{0})$处的切平面$\pi$的点法式方程为：

$$
\vec {r} \cdot
\begin{pmatrix}
x-x_{0} \\
y-y_{0} \\
z-z_{0}
\end{pmatrix}=0 \Longrightarrow z-z_{0}=\frac {\partial f}{\partial x}|_{x=x_{0}} (x-x_0)+\frac {\partial f}{\partial y}|_{y=y_{0}}(y-y_{0})
$$

当$x \to x_{0}, y \to y_{0}$时：

$$
dz|_{z=z_{0}}=\frac {\partial f}{\partial x}|_{x=x_{0}}dx+\frac {\partial f}{\partial y}|_{y=y_{0}}dy
$$

因此有全微分公式：

$$
dz=\frac {\partial f}{\partial x}dx+\frac {\partial f}{\partial y}dy
$$

---

## **1.3.复合多元函数的导数与微分**

如果多元函数函数$z=f(\lambda , \mu)$，其中$\lambda=\phi(t), \mu=\psi(t)$，则$z$关于$t$的导数：

$$
\frac {dz}{dt}=\frac {\partial f}{\partial \phi}\frac {d\phi}{dt}+\frac {\partial f}{\partial \psi}\frac {d\psi}{dt}
$$

若$\lambda=\phi(x, y), \mu=\psi(x, y)$，不妨令$z=g(x, y)$，则有：

$$
dz=\frac {\partial f}{\partial \phi}d\phi+\frac {\partial f}{\partial \psi}d\psi
$$

又：

$$
d\phi=\frac {\partial \phi}{\partial x}dx+\frac {\partial \phi}{\partial y}dy
$$

$$
d\psi=\frac {\partial \psi}{\partial x}dx+\frac {\partial \psi}{\partial y}dy
$$

所以：

$$
dz=(\frac {\partial f}{\partial \phi}\frac{\partial \phi}{\partial x}+\frac {\partial f}{\partial \psi}\frac{\partial \psi}{\partial x})dx+(\frac {\partial f}{\partial \phi}\frac{\partial \phi}{\partial y}+\frac {\partial f}{\partial \psi}\frac{\partial \psi}{\partial y})dy
$$

又：

$$
dz=\frac {\partial g}{\partial x}dx+\frac {\partial g}{\partial y}dy
$$

则$z=g(x, y)$偏微分：

$$
\frac {\partial g}{\partial x}=\frac {\partial f}{\partial \phi}\frac{\partial \phi}{\partial x}+\frac {\partial f}{\partial \psi}\frac{\partial \psi}{\partial x}
$$

$$
\frac {\partial g}{\partial y}=\frac {\partial f}{\partial \phi}\frac{\partial \phi}{\partial y}+\frac {\partial f}{\partial \psi}\frac{\partial \psi}{\partial y}
$$

---


## **1.4.隐函数求导**

二元隐函数通常由方程$F(x, y)=0$确定。若在$(x_{0}, y_{0})$邻域内具有连续偏导数，则有链式法则：

$$
dF(x, y(x)) = \frac {\partial F}{\partial x}dx+\frac{\partial F}{\partial y}dy
$$

又：

$$
\frac{dF(x, y)}{dx}=\frac{\partial F}{\partial x}+\frac{\partial F}{\partial y}\frac{dy}{dx}=0
$$

故隐函数方程$F(x, y)=0, y关于x的导数$为：

$$
\frac{dy}{dx}=-\frac{{F_{x}}^{'}}{{F_{y}}^{'}}
$$

推广至多元函数，例如三元隐函数方程$F(x, y, z(x, y))=0$，有链式法则：

$$
dF=\frac{\partial F}{\partial x}dx+\frac{\partial F}{\partial y}dy+\frac{\partial F}{\partial z}dz
$$

又有：$z=z(x,y)，dz=\frac{\partial z}{\partial x}dx+\frac{\partial z}{\partial y}dy$，因此：

$$
dF=(\frac{\partial F}{\partial x}+\frac{\partial F}{\partial z}\frac{\partial z}{\partial x})dx+(\frac{\partial F}{\partial y}+\frac{\partial F}{\partial z}\frac{\partial z}{\partial y})dy
$$

$$
\frac{dF}{dx}=\frac{\partial F}{\partial x}+\frac{\partial F}{\partial z}\frac{\partial z}{\partial x}=0
$$

因此有：${F_{x}}^{'}+{F_{z}}^{'}\frac{\partial z}{\partial x}=0，即：\frac{\partial z}{\partial x}=-\frac{{F_{z}}^{'}}{{F_{x}}^{'}}$。同理有：$\frac{\partial z}{\partial y}=-\frac{{F_{z}}^{'}}{{F_{x}}^{'}}$。

---

## **1.5.方向导数与梯度**

- 方向导数

讨论二元函数$z=f(x,y)$在$(x_0,y_0,z_0)$处的切平面$\pi$(若此处偏导数存在)由向量$\vec{\alpha}=(1,0,\frac{\partial f}{\partial x})，\vec{\beta}=(0,1,\frac{\partial f}{\partial y})$确定。则平行于切平面$\pi$的任意方向向量$\vec{l}$都可由基向量$\vec{\alpha}，\vec{\beta}$的线性组合表示：

$$
\vec{l}=\lambda \vec{\alpha}+\mu \vec{\beta}=(\lambda,\mu,\lambda\frac{\partial f}{\partial x}+\mu \frac{\partial f}{\partial y})
$$

定义$z=f(x,y)$在$\vec{l}$方向的方向导数：

$$
\frac{\partial f}{\partial l}=\frac{\lambda}{\sqrt{\lambda^2+\mu^2}}\frac{\partial f}{\partial x}+\frac{\mu}{\sqrt{\lambda^2+\mu^2}}\frac{\partial f}{\partial y}
$$

由定义可知，$z=f(x,y)$在$x$轴方向的方向导数为$\frac{\partial f}{\partial x}$，在$y$轴方向的方向导数为$\frac{\partial f}{\partial y}$。描述了$z=f(x,y)的(x_0,y_0,z_0)处\vec{l}$方向上的变化量


- 梯度

不妨将函数$z=f(x,y)$的$(x_0,y_0,z_0)$点在$\vec{l}$方向上的方向导数视作以下内积形式：

$$
\frac{\partial f}{\partial l}=(\frac{\lambda}{\sqrt{\lambda^2+\mu^2}},\frac{\mu}{\sqrt{\lambda^2+\mu^2}})\cdot (\frac{\partial f}{\partial x},\frac{\partial f}{\partial y})^T=\vec{e_l}\cdot (\frac{\partial f}{\partial x},\frac{\partial f}{\partial y})^T
$$

其中$\vec{e_l}$是$(x_0,y_0,z_0)$处$\vec{l}$方向上的单位向量。定义函数$z=f(x,y)$的点$(x_0,y_0,z_0)$处的梯度为：

$$
\nabla f(x,y)=(\frac{\partial f}{\partial x},\frac{\partial f}{\partial y})^T
$$

重新审视方向导数的内积形式：

$$
\frac{\partial f}{\partial l}=|\vec{e_l}|\cdot|\nabla f(x,y)|\cos{\theta}
$$

其中$\theta$是单位方向向量$\vec{e_l}$与梯度$\nabla f(x,y)$的夹角。

要使在$\vec{l}$方向上的变化率最大，$\cos{\theta}=1$，即方向单位向量$\vec{e_l}$与梯度$\nabla f(x,y)$平行。

---

